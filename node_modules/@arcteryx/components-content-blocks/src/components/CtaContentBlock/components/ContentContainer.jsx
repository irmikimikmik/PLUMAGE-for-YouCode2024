import React from "react";
import styled from "styled-components";
import { ElementsContainer } from "./ElementsContainer";
import { HeroBackgroundImage } from "../../backgrounds/HeroBackgroundImage";
import { SecondaryBackgroundImage } from "../../backgrounds/SecondaryBackgroundImage";
import { baseFlexBox, desktopFlexBox, tabletFlexBox } from "../../styles/styles";

const StyledBlock = styled.div`
  ${baseFlexBox}
  background-color: ${({ backgroundColor = "black" }) => {
    return backgroundColor;
  }};
  position: relative;
  height: 100%;
  width: 100%;
  @media (min-width: 768px) {
    ${tabletFlexBox}
  }

  @media (min-width: 1440px) {
    ${desktopFlexBox}
  }
`;

export const ContentContainer = ({
  backgroundImage,
  containerDesktopStyles,
  containerStyles,
  containerTabletStyles,
  elementListDesktopStyles,
  elementListTabletStyles,
  elements,
  elementsContainerStyles,
  layout,
}) => {
  const isHero = layout === "hero";
  const isSecondary = layout === "secondary";
  const hasBackgroundImage = Boolean(backgroundImage);
  return (
    <StyledBlock
      {...containerStyles}
      data-testid="ctaContentContainer"
      desktopStyles={containerDesktopStyles}
      tabletStyles={containerTabletStyles}
    >
      {hasBackgroundImage && isHero && (
        <HeroBackgroundImage {...backgroundImage.imgixParams} src={backgroundImage.src} title={backgroundImage.title} />
      )}
      {hasBackgroundImage && isSecondary && (
        <SecondaryBackgroundImage
          {...backgroundImage.imgixParams}
          src={backgroundImage.src}
          title={backgroundImage.title}
        />
      )}
      <ElementsContainer
        {...elementsContainerStyles}
        elements={elements}
        tabletStyles={elementListTabletStyles}
        desktopStyles={elementListDesktopStyles}
        layout={layout}
      />
    </StyledBlock>
  );
};
