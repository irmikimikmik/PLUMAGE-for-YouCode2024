import React, { useState } from "react";
import { YoutubeVideoModal } from "../modals/YoutubeVideoModal";
import { CMSButton } from "./CMSButton";

export const ButtonVideo = ({
  adornment,
  width,
  backgroundColor,
  color,
  youTubeID,
  onClick = () => null,
  onContextMenu,
  tabletStyles,
  desktopStyles,
  label,
  href,
}) => {
  const [isModalVisible, setIsModalVisible] = useState(false);
  const [modalCaller, setModalCaller] = useState();
  const onClickModal = (e) => {
    // Prevent navigation when using the anchor tag
    e.preventDefault();
    onClick(e);
    setModalCaller(e.currentTarget);
    setIsModalVisible((prev) => !prev);
  };
  return (
    <>
      <YoutubeVideoModal
        youTubeID={youTubeID}
        isModalVisible={isModalVisible}
        modalCaller={modalCaller}
        setIsModalVisible={setIsModalVisible}
      />
      <CMSButton
        adornment={adornment}
        backgroundColor={backgroundColor}
        color={color}
        desktopStyles={desktopStyles}
        href={href ?? ""}
        label={label}
        onClick={onClickModal}
        onContextMenu={onContextMenu}
        tabletStyles={tabletStyles}
        width={width}
      />
    </>
  );
};
