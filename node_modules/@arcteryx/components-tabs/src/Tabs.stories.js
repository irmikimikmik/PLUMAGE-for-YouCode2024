import React, { useState } from "react";
import { storiesOf } from "@storybook/react";
import TabButton from "./components/TabButton";
import TabList from "./components/TabList";
import TabContainer from "./components/TabContainer";
import styled from "styled-components";
import { H1, H2, H3, H4, P } from "@arcteryx/components-typography";

const stories = storiesOf("Tabs", module);

const Front = styled.div`
  width: ${props => props.width || "100%"};
  height: 100%;
  display: block;
  padding: 10px 0;
  border: 1px solid #ccc;
  margin: 0 auto;
  text-align: center;
`;

const StyledDiv = styled.div`
  font-size: 1em;
  padding: 20px;
  width: 50%;
  text-align: left;
`;

const Container = styled.div`
  width: 95%;
  margin: 0 auto;
  padding: 1rem 0;
`;

const Tabs = () => {
  const [tabIndex, setTabIndex] = useState(0);

  return (
    <div>
      <TabList selectedIndex={tabIndex} setSelectedIndex={setTabIndex}>
        <TabButton>Ship to you</TabButton>
        <TabButton>Pick up at Store</TabButton>
      </TabList>
      <TabContainer index={0} selectedIndex={tabIndex} title={"Men's"} category={"Pick up at store"}>
        <StyledDiv>
          Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's
          standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to
          make a type specimen book. It has survived not only five centuries, but also the leap into electronic
          typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset
          sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus
          PageMaker including versions of Lorem Ipsum.
        </StyledDiv>
      </TabContainer>
      <TabContainer index={1} selectedIndex={tabIndex}>
        <StyledDiv>
          It is a long established fact that a reader will be distracted by the readable content of a page when looking
          at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as
          opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing
          packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum'
          will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by
          accident, sometimes on purpose (injected humour and the like).
        </StyledDiv>
      </TabContainer>
    </div>
  );
};

const ShipToAddressIcon = ({ width, height, fill, title }) => (
  <svg xmlns="http://www.w3.org/2000/svg" width={width} height={height} viewBox="0 0 33 15" fill="none">
    <title>{title}</title>
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M8.51668 0.00012C8.2396 0.00125 8.01564 0.22699 8.01677 0.50409V1.84241C8.01609 1.97556 8.06855 2.10356 8.16226 2.19794C8.25619 2.29254 8.38351 2.34589 8.51668 2.34633C8.65051 2.34702 8.77897 2.29411 8.87358 2.19928C8.96817 2.10469 9.02108 1.97624 9.02064 1.84239V1.00421H22.7843V11.4801H15.5114C15.2841 10.2888 14.2497 9.37503 13.0082 9.37503C11.7667 9.37503 10.7357 10.2888 10.5091 11.4801H8.51682C8.24108 11.4812 8.0178 11.7045 8.0169 11.9802C8.01624 12.1134 8.06869 12.2411 8.16239 12.3357C8.25632 12.4301 8.38366 12.4835 8.51681 12.4842H10.512C10.7456 13.6665 11.773 14.5705 13.0082 14.5705C14.2434 14.5705 15.2739 13.6664 15.5084 12.4842H25.0528C25.2871 13.6665 26.3179 14.5705 27.5528 14.5705C28.788 14.5705 29.8177 13.6664 30.052 12.4842H31.8178C32.0951 12.483 32.3191 12.2573 32.318 11.9802V7.05528C32.3182 6.9627 32.2926 6.87169 32.2444 6.79255L29.5315 2.43166C29.4403 2.28435 29.2793 2.19468 29.106 2.19423H23.7881V0.50395C23.7892 0.22688 23.5653 0.00113 23.2882 0L8.51668 0.00012ZM23.788 3.19824H28.8234L31.3138 7.20047V11.4802H30.056C29.8289 10.2889 28.7945 9.37518 27.5531 9.37518C26.3116 9.37518 25.2772 10.2889 25.0499 11.4802H23.788L23.788 3.19824ZM7.06817 3.65445C6.93524 3.65379 6.80722 3.70624 6.71263 3.79996C6.61824 3.89389 6.56489 4.02123 6.56422 4.15438C6.5649 4.28754 6.61824 4.41511 6.71263 4.5088C6.80722 4.60252 6.93523 4.65498 7.06817 4.65454H12.0704C12.2036 4.65498 12.3316 4.60252 12.426 4.5088C12.5206 4.41511 12.574 4.28755 12.5744 4.15438C12.5739 4.02123 12.5206 3.8939 12.426 3.79996C12.3316 3.70626 12.2036 3.6538 12.0704 3.65445H7.06817ZM3.87388 6.43289C3.59747 6.43359 3.37351 6.65753 3.37307 6.93396C3.3724 7.06734 3.42508 7.19534 3.51901 7.28993C3.61295 7.38431 3.74073 7.43767 3.87388 7.43789H10.4737C10.6075 7.43833 10.7359 7.38543 10.8306 7.29083C10.9252 7.19623 10.9781 7.06778 10.9776 6.93394C10.9774 6.80055 10.924 6.673 10.8294 6.57884C10.7351 6.48491 10.6068 6.43245 10.4737 6.43289H3.87388ZM0.679821 9.21249C0.546661 9.21295 0.419111 9.26652 0.325401 9.3609C0.231471 9.45552 0.179231 9.5833 0.179691 9.71645C0.180801 9.99219 0.404091 10.2155 0.679821 10.2166H8.87615C9.00932 10.217 9.13733 10.1646 9.2317 10.0709C9.32631 9.97718 9.37966 9.84961 9.38011 9.71645C9.38078 9.58262 9.32765 9.45415 9.23305 9.35956C9.13845 9.26496 9.00999 9.21204 8.87615 9.2125L0.679821 9.21249ZM12.9686 10.3764C12.9818 10.376 12.9946 10.3764 13.0078 10.3764C13.8599 10.3764 14.5531 11.0806 14.5531 11.9734C14.5531 12.8663 13.8602 13.5667 13.0078 13.5667C12.1557 13.5667 11.4666 12.8664 11.4666 11.9734C11.4666 11.0945 12.1349 10.3979 12.9686 10.3764H12.9686ZM27.5128 10.3764C27.526 10.376 27.5397 10.3764 27.5529 10.3764C28.405 10.3764 29.0982 11.0806 29.0982 11.9734C29.0982 12.8663 28.4052 13.5667 27.5529 13.5667C26.7008 13.5667 26.0076 12.8664 26.0076 11.9734C26.0076 11.0945 26.6788 10.3979 27.5125 10.3764H27.5128Z"
      fill={fill}
    />
  </svg>
);
const PickupIcon = ({ width, height, fill, title }) => (
  <svg xmlns="http://www.w3.org/2000/svg" width={width} height={height} viewBox="0 0 23 22" fill="none">
    <title>{title}</title>
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M22.5467 5.56892L19.0781 0.24751C18.9585 0.06188 18.7791 0 18.5997 0H4.30694C4.12753 0 3.94813 0.12375 3.82852 0.24751L0.419778 5.56892C0.300178 5.75455 0.300178 5.94018 0.419778 6.12581C0.539388 6.31144 0.718788 6.43519 0.898198 6.43519H2.15405V20.4812C2.15405 20.605 2.21385 20.7906 2.33346 20.9144C2.45307 21.0381 2.57267 21.1 2.75208 21.1H8.49311C8.79212 21.1 9.03133 20.8525 9.09113 20.5431V10.7666H13.8753V20.4193C13.8753 20.5431 13.9351 20.7287 14.0547 20.8525C14.1743 20.9762 14.2939 21.0381 14.4135 21.0381H20.1546C20.334 21.0381 20.4536 20.9762 20.5732 20.8525C20.6928 20.7287 20.7526 20.605 20.7526 20.4193V6.43518H22.1281C22.3075 6.43518 22.5467 6.31143 22.6065 6.1258C22.6663 6.00205 22.6663 5.75454 22.5467 5.56891L22.5467 5.56892ZM14.7724 9.83842C14.6528 9.71467 14.5332 9.65279 14.3537 9.65279H8.49311C8.3735 9.65279 8.1941 9.71466 8.07449 9.83842C7.95488 9.96218 7.89508 10.0859 7.89508 10.2716V19.9244H3.29029V6.37332H19.5565V19.9244H14.9518V10.2097C14.9518 10.0859 14.892 9.9003 14.7724 9.83843L14.7724 9.83842ZM20.932 5.19765H2.03445L4.66576 1.17566H18.3007L20.932 5.19765Z"
      fill={fill}
    />
  </svg>
);

const TabsWithIcons = () => {
  const [tabIndex, setTabIndex] = useState(0);

  return (
    <div>
      <TabList selectedIndex={tabIndex} setSelectedIndex={setTabIndex} $maxWidth>
        <TabButton icon={<ShipToAddressIcon width={30} height={20} fill={"#000"} />}>Ship to you</TabButton>
        <TabButton icon={<PickupIcon width={20} height={20} fill={"#000"} />}>Pick up at Store</TabButton>
      </TabList>
      <TabContainer index={0} selectedIndex={tabIndex}>
        <StyledDiv>
          Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's
          standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to
          make a type specimen book. It has survived not only five centuries, but also the leap into electronic
          typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset
          sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus
          PageMaker including versions of Lorem Ipsum.
        </StyledDiv>
      </TabContainer>
      <TabContainer index={1} selectedIndex={tabIndex}>
        <StyledDiv>
          It is a long established fact that a reader will be distracted by the readable content of a page when looking
          at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as
          opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing
          packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum'
          will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by
          accident, sometimes on purpose (injected humour and the like).
        </StyledDiv>
      </TabContainer>
    </div>
  );
};

const TabsWithMaxWidth = () => {
  const [tabIndex, setTabIndex] = useState(0);

  return (
    <div>
      <TabList selectedIndex={tabIndex} setSelectedIndex={setTabIndex} $maxWidth={true}>
        <TabButton>Ship to you</TabButton>
        <TabButton>Pick up at Store</TabButton>
      </TabList>
      <TabContainer index={0} selectedIndex={tabIndex}>
        <StyledDiv>
          Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's
          standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to
          make a type specimen book. It has survived not only five centuries, but also the leap into electronic
          typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset
          sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus
          PageMaker including versions of Lorem Ipsum.
        </StyledDiv>
      </TabContainer>
      <TabContainer index={1} selectedIndex={tabIndex}>
        <StyledDiv>
          It is a long established fact that a reader will be distracted by the readable content of a page when looking
          at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as
          opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing
          packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum'
          will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by
          accident, sometimes on purpose (injected humour and the like).
        </StyledDiv>
      </TabContainer>
    </div>
  );
};
const TabsConditionalRenderingOff = () => {
  const [tabIndex, setTabIndex] = useState(0);

  return (
    <div>
      <TabList selectedIndex={tabIndex} setSelectedIndex={setTabIndex}>
        <TabButton>Ship to you</TabButton>
        <TabButton>Pick up at Store</TabButton>
      </TabList>
      <TabContainer index={0} selectedIndex={tabIndex} isConditionalRenderOff>
        <StyledDiv>
          Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's
          standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to
          make a type specimen book. It has survived not only five centuries, but also the leap into electronic
          typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset
          sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus
          PageMaker including versions of Lorem Ipsum.
        </StyledDiv>
      </TabContainer>
      <TabContainer index={1} selectedIndex={tabIndex} isConditionalRenderOff>
        <StyledDiv>
          It is a long established fact that a reader will be distracted by the readable content of a page when looking
          at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as
          opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing
          packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum'
          will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by
          accident, sometimes on purpose (injected humour and the like).
        </StyledDiv>
      </TabContainer>
    </div>
  );
};

const CampaignTabs = () => {
  const [tabIndex, setTabIndex] = useState(0);
  const tabLinks = [
    {
      url: "/shop/womens",
      label: "Shop Women's",
    },
    {
      url: "/shop/mens",
      label: "Shop Men's",
    },
  ];

  return (
    <TabList selectedIndex={tabIndex} setSelectedIndex={setTabIndex} preventClick={true} theme="campaigns">
      {tabLinks?.map(({ url, label }) => (
        <TabButton href={url}>{label}</TabButton>
      ))}
    </TabList>
  );
};

stories.add("Regular Tabs", () => (
  <Front>
    <h2>Tabs: </h2>
    <Tabs />
  </Front>
));

stories.add("Tabs with Icons", () => (
  <Front>
    <h2>Tabs: </h2>
    <TabsWithIcons />
  </Front>
));

stories.add("Regular Tabs With Max Width", () => (
  <Front>
    <h2>Tabs: </h2>
    <TabsWithMaxWidth />
  </Front>
));

stories.add("Tabs (conditional rendering off) should look the same as above but using display:none instead", () => (
  <Front>
    <h2>Tabs: </h2>
    <TabsConditionalRenderingOff />
  </Front>
));

stories.add("Campaign Tabs", () => (
  <Container>
    <h2>Campaign Tabs: </h2>
    <CampaignTabs />
  </Container>
));
