import React from "react";
import { type TableSizingProps, TableSizing } from "./TableSizing";
import { render, screen } from "@testing-library/react";

describe("Table", () => {
  it("renders a table with the correct number of rows and columns", () => {
    const data: TableSizingProps = {
      description: "Row 1",
      measuringType: "a",
      table: [
        ["Row 1", "a"],
        ["Row 2", "b"],
        ["Row 3", "c"],
      ],
    };

    render(
      <TableSizing
        table={data.table}
        description={data.description}
        measuringType={data.measuringType}
      />,
    );
    const table = screen.getByRole("table");
    const rows = table.querySelectorAll("tr");
    const cells = table.querySelectorAll("td");

    // Check that the table has the correct number of rows and columns
    expect(rows).toHaveLength(data.table.length);
    expect(cells).toHaveLength(data.table.length * data.table[0].length);

    // Check that the table cells have the correct content
    data.table.forEach((row, rowIndex) => {
      row.forEach((cell, cellIndex) => {
        const cellElement = cells[rowIndex * data.table[0].length + cellIndex];
        expect(cellElement.textContent).toEqual(cell);
      });
    });
  });
});
