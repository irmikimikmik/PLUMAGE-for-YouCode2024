import React from "react";
import "@testing-library/jest-dom";
import { render, screen } from "@testing-library/react";
import { TextImage } from "./TextImage";
import { textItem1, textItem2 } from "./__mocks__/textBlocks";
import { imageBlock } from "./__mocks__/imageBlock";

describe("TextImage", () => {
  const props = {
    displayImageBelowMd: true,
    isImageOnLeft: false,
    imageSize: "medium",
    textItems: [textItem1, textItem2],
    image: imageBlock,
  };

  it("renders TextImage without crashing", () => {
    const { container } = render(<TextImage {...props} />);
    expect(container).toBeInTheDocument();
  });

  it("renders Image component", () => {
    render(<TextImage {...props} />);

    const image = screen.getByAltText(
      "An older man tries on a turquoise Cerium jacket at the Richmond Centre store grand opening.",
    );
    expect(image).toBeInTheDocument();
  });

  it("renders a Rich Text block with proper styling", () => {
    const { getByText } = render(<TextImage {...props} />);

    const textItemHeading = getByText("IS THIS YOU?");
    expect(textItemHeading).toBeInTheDocument();
    expect(textItemHeading.tagName).toBe("H2");
  });
});
