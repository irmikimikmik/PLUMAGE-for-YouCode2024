import { Modal } from "@arcteryx/components-modal";

import React from "react";
import { Link } from "../../atoms/link/Link";
import { type LinkProps } from "../../atoms/link/Link.types";

interface Props extends Omit<LinkProps, "target"> {}

export const LinkModal: React.FC<Props> = (props) => {
  const [modalIsShown, toggleModal] = React.useState(false);
  const [modalCaller, setModalCaller] = React.useState();
  const onClick = (e: any): void => {
    setModalCaller(e.currentTarget);
    toggleModal(!modalIsShown);
  };

  return (
    <>
      <Link text={props.text} href="#" onClick={onClick} />
      <Modal
        modalIsShown={modalIsShown}
        toggleModal={toggleModal}
        modalCaller={modalCaller}
        isClosable={true}
        isFullscreen={false}
        iframe={true}
      >
        <iframe src={props.href}></iframe>
      </Modal>
    </>
  );
};
