import React from "react";
import "@testing-library/jest-dom";
import { render, screen } from "@testing-library/react";
import { BoxListImage } from "./BoxListImage";
import { boxListImageStoryMock } from "./__mocks__/boxListImageMocks";

describe("BoxListImage", () => {
  it("renders BoxListImage without crashing", () => {
    const props = {
      displayImageBelowMd: true,
      image: boxListImageStoryMock.image,
      children: boxListImageStoryMock.children,
    };

    const { container } = render(<BoxListImage {...props} />);

    expect(container).toBeInTheDocument();
  });

  it("renders Image component", () => {
    const props = {
      displayImageBelowMd: true,
      image: boxListImageStoryMock.image,
      children: boxListImageStoryMock.children,
    };

    render(<BoxListImage {...props} />);
    const image = screen.getByAltText(
      "Climbers scale a rock face in the Pacific Northwest",
    );
    expect(image).toBeInTheDocument();
  });

  it("renders RichText and RichTextIcon components", () => {
    const props = {
      displayImageBelowMd: true,
      image: boxListImageStoryMock.image,
      children: boxListImageStoryMock.children,
    };
    const { getByText } = render(<BoxListImage {...props} />);

    const richText = getByText("Design Your Purpose. Live Our Values.");
    const richTextIconBlocks = screen.getAllByTitle("Rich-Text-Icon");

    expect(richText).toBeInTheDocument();
    expect(richTextIconBlocks.length).toBe(4);
  });
});
