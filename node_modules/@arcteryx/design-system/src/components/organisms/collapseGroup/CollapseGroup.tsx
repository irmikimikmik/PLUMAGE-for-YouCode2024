import React from "react";
import { Accordion } from "@arcteryx/components-accordion";
import { type CollapseGroupProps } from "./CollapseGroup.type";
import { H2 } from "@arcteryx/components-typography";
import { RichText } from "../../molecules";
import styled from "styled-components";

const StyledDiv = styled.div`
  width: 100%;
`;

export const CollapseGroup: React.FC<CollapseGroupProps> = (props) => {
  const { className, title, items } = props;
  const hasTitle = title !== undefined;
  return (
    <StyledDiv className={className}>
      {hasTitle ? <H2>{title}</H2> : null}
      {items.map((item, index) => (
        <Accordion
          key={index}
          title={item.title}
          headingLevel={item.headingLevel}
        >
          <RichText content={item.content} />
        </Accordion>
      ))}
    </StyledDiv>
  );
};
