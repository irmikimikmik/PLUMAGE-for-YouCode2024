{"version":3,"file":"index.js","sources":["../../src/components/Modal.js","../../src/components/InfoIconModal.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport styled, { keyframes, css } from \"styled-components\";\nimport { Breakpoint as breakpoint } from \"@arcteryx/components-typography\";\n\nimport { useSwipeable } from \"react-swipeable\";\n\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n    z-index: -1;\n  }\n  100% {\n    opacity: 1;\n    z-index: 9999;\n  }\n`;\n\nconst fadeAnimation = css`\n  0.3s ${fadeIn} ease-out;\n`;\n\nconst scaleIn = keyframes`\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n`;\n\nconst scaleAnimation = css`\n  0.3s 0.2s ${scaleIn} forwards\n`;\n\nconst slideUp = keyframes`\n  0% {\n    opacity: 1;\n    z-index: -1;\n    transform: scale(1) translateY(100%);\n  }\n\n  100% {\n    opacity: 1;\n    z-index: 9999;\n    transform: scale(1) translateY(0);\n  }\n`;\n\nconst slideUpAnimation = css`\n  0.3s 0.2s ${slideUp} forwards\n`;\n\nconst ModalOverlay = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  cursor: pointer;\n  background-color: rgba(43, 43, 43, 0.8);\n  z-index: 9999;\n  opacity: 1;\n  animation: ${fadeAnimation};\n\n  ${breakpoint(\"lg\")`\n    padding: 2rem;\n  `}\n`;\n\nconst ModalWrapper = styled.div`\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n  height: 100%;\n  transform: scale(1) translateY(100%);\n  animation: ${slideUpAnimation};\n\n  ${breakpoint(\"lg\")`\n    width: ${props => (props.modalWidth ? `${props.modalWidth}px` : \"90vw\")};\n    align-items: center;\n    transform: scale(0);\n    animation: ${scaleAnimation};\n  `}\n`;\n\nconst ModalUI = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  align-items: flex-end;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n\n  ${breakpoint(\"lg\")`\n    height: auto;\n    flex-flow: row nowrap;\n    align-items: flex-start;\n  `}\n\n  .modal--video & {\n    flex-flow: column nowrap;\n    justify-content: center;\n\n    ${breakpoint(\"lg\")`\n      align-items: flex-start;\n      flex-flow: row wrap;\n    `}\n  }\n`;\n\nconst ModalContent = styled.div`\n  position: relative;\n  width: 100%;\n  max-width: 75rem;\n  height: 100%;\n  max-height: ${props => (props.contentMaxHeightMobile ? `${props.contentMaxHeightMobile}vh` : \"80vh\")};\n  padding: 1.25rem;\n  overflow: auto;\n  cursor: default;\n  display: flex;\n  flex-flow: column wrap;\n  order: 2;\n  align-items: flex-start;\n  background-color: white;\n  transition: all 0.3s;\n\n  ${breakpoint(\"xs\")`\n      overflow: ${props => (props.preventMobileOverflow ? \"hidden\" : \"auto\")};\n  `}\n\n  &:before {\n    content: \"\";\n    display: ${props => (props.closable === true ? \"block\" : \"none\")};\n    width: 4.5rem;\n    height: 0.3rem;\n    position: absolute;\n    top: 1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    background-color: black;\n\n    ${breakpoint(\"lg\")`\n      display: none;\n    `}\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:focus-visible {\n    outline: none !important;\n  }\n\n  .modal--video & {\n    height: auto;\n    padding: 0 1rem;\n    align-items: center;\n    background-color: transparent;\n    &:before {\n      display: none;\n    }\n\n    iframe {\n      background-color: black;\n    }\n  }\n\n  .modal--iframe & {\n    padding: ${props => (props.closable === true ? \"2rem 0\" : \"0\")};\n    height: 80vh;\n  }\n\n  iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: ${props => (props.contentHeight ? `${props.contentHeight}px` : \"100%\")};\n    margin: auto;\n    border: 0;\n    overflow: auto;\n  }\n\n  ${breakpoint(\"lg\")`\n    order: 1;\n    width: ${props => (props.modalWidth ? `${props.modalWidth}px;` : \"80vw\")};\n    max-width: ${props => (props.modalWidth ? `${props.modalWidth}px;` : \"75rem\")};\n    max-height: ${props => (props.contentMaxHeight ? `${props.contentMaxHeight}vh` : \"80vh\")};\n    background-color: white;\n\n    .modal--video & {\n      padding: 0;\n      max-width: calc(100% - 7rem);\n      max-height: 72rem;\n      background-color: black;\n    }\n\n    .modal--iframe & {\n      padding: 0;\n    }\n  `}\n`;\n\nconst ModalClose = styled.button`\n  position: relative;\n  display: none;\n  width: 3rem;\n  min-width: 3rem;\n  height: 3rem;\n  min-height: 3rem;\n  color: white;\n  border: 0;\n  padding: 0;\n  order: 1;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 3rem;\n  font-weight: 400;\n  font-style: normal;\n  font-family: var(--font-urw-din);\n  margin: 0 0 1rem auto;\n  background-color: black;\n  overflow: hidden;\n\n  ${breakpoint(\"lg\")`\n    display: flex;\n    order: 2;\n    margin: 0 0 0 2rem;\n  `}\n\n  span {\n    margin-top: -0.1rem;\n    line-height: 3rem;\n  }\n\n  .modal--video & {\n    display: flex;\n    margin-right: 1rem;\n\n    ${breakpoint(\"lg\")`\n      margin-right: 0;\n    `}\n  }\n`;\n\nconst ModalBox = styled.div`\n  width: 100%;\n  position: relative;\n\n  .modal--video & {\n    height: 0;\n    padding-top: 56.25%;\n  }\n\n  .modal--iframe & {\n    height: 100%;\n  }\n`;\n\nexport default function Modal({\n  children,\n  toggleModal,\n  modalCaller,\n  modalIsShown,\n  className = \"\",\n  video = false,\n  iframe = false,\n  contentHeight,\n  contentMaxHeightMobile,\n  contentMaxHeight,\n  modalWidth,\n  isClosable = true,\n  onVideoPlaybackEnded,\n}) {\n  let videoPlayer;\n  const contentRef = useRef();\n\n  const handleClickOutside = e => {\n    if (\n      isClosable &&\n      modalIsShown === true &&\n      e.target.classList.length > 0 &&\n      e.target.classList.contains(\"modal--close\")\n    ) {\n      toggleModal(false);\n    }\n  };\n\n  const detectEscapeKeyPress = e => {\n    if (isClosable && modalIsShown === true && e.keyCode === 27) {\n      toggleModal(false);\n    }\n  };\n\n  const handleFocus = () => {\n    const elementToFocus = modalIsShown ? document.querySelector(\".modal__content\") : modalCaller;\n\n    if (elementToFocus) {\n      elementToFocus.focus();\n    }\n  };\n\n  const onYTPlayerStateChange = event => {\n    // event 0 is video ended\n    if (event.data === 0) {\n      const { title: videoTitle } = videoPlayer.getVideoData();\n      onVideoPlaybackEnded(videoTitle);\n    }\n  };\n\n  const extractYoutubeId = videoUrl => {\n    const parts = videoUrl?.split(\"/\");\n    if (parts?.length) {\n      const videoSlug = parts[parts.length - 1].split(\"?\");\n      if (videoSlug.length) {\n        return videoSlug[0];\n      }\n    }\n    return false;\n  };\n\n  const loadYTVideo = () => {\n    const playerWrapper = document.getElementById(\"yt-player\");\n    const videoSlug = extractYoutubeId(playerWrapper?.getAttribute(\"data-video-url\"));\n\n    if (videoSlug) {\n      videoPlayer = new window.YT.Player(\"yt-player\", {\n        videoId: videoSlug,\n        playerVars: { autoplay: 1, controls: 0, mute: 1 },\n        events: {\n          onStateChange: onYTPlayerStateChange,\n        },\n      });\n    }\n  };\n\n  // Modals that pass the 'video' prop and content like this...\n  // <div id=\"yt-player\" data-video-url=\"//youtube.com/embed/XXXX\"></div>\n  // will use the YouTube Embed API so we can track video completions\n  const handleVideoEmbed = () => {\n    if (video && modalIsShown) {\n      if (!window.YT) {\n        const tag = document.createElement(\"script\");\n        tag.src = \"https://www.youtube.com/iframe_api\";\n\n        window.onYouTubeIframeAPIReady = loadYTVideo;\n\n        const firstScriptTag = document.getElementsByTagName(\"script\")[0];\n        if (firstScriptTag) {\n          firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        }\n      } else {\n        loadYTVideo();\n      }\n    }\n  };\n\n  useEffect(() => {\n    const containerOverflow = modalIsShown ? \"hidden\" : \"visible\";\n    document.querySelector(\"body\").style.overflow = containerOverflow;\n\n    handleFocus();\n    handleVideoEmbed();\n\n    document.addEventListener(\"click\", handleClickOutside, false);\n    document.addEventListener(\"keydown\", detectEscapeKeyPress, false);\n    return () => {\n      document.querySelector(\"body\").style.overflow = \"visible\";\n      document.removeEventListener(\"click\", handleClickOutside, false);\n      document.removeEventListener(\"keydown\", detectEscapeKeyPress, false);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [modalIsShown]);\n\n  const finishSwipingUp = () => {\n    contentRef.current.style.transform = `translateY(0)`;\n  };\n\n  const finishSwipingDown = () => {\n    const swipeIsScroll = contentRef.current.scrollTop > 0;\n\n    if (isClosable && !swipeIsScroll) {\n      contentRef.current.style.transform = `translateY(100%)`;\n      setTimeout(() => {\n        toggleModal(false);\n      }, 300);\n    }\n  };\n\n  const startSwipingUp = deltaY => {\n    contentRef.current.style.transform = `translateY(-${deltaY}px)`;\n  };\n\n  const startSwipingDown = deltaY => {\n    const swipeIsScroll = contentRef.current.scrollTop > 0;\n    if (!swipeIsScroll) {\n      contentRef.current.style.transform = `translateY(${deltaY}px)`;\n    }\n  };\n\n  const swipeHandlers = useSwipeable({\n    onSwiping: ({ deltaY, dir }) => {\n      if (dir === \"Down\") {\n        startSwipingDown(deltaY);\n      }\n\n      if (dir === \"Up\") {\n        startSwipingUp(deltaY);\n      }\n    },\n    onSwiped: ({ dir }) => {\n      if (dir === \"Down\") {\n        finishSwipingDown();\n      }\n\n      if (dir === \"Up\") {\n        finishSwipingUp();\n      }\n    },\n    preventDefaultTouchmoveEvent: false,\n    delta: 10,\n  });\n\n  return modalIsShown\n    ? ReactDOM.createPortal(\n        <ModalOverlay\n          className={`modal__overlay modal--close ${video ? \"modal--video\" : \"\"} ${\n            iframe ? \"modal--iframe\" : \"\"\n          } ${className}`}\n        >\n          <ModalWrapper role=\"dialog\" className=\"modal__wrapper modal--close\">\n            <ModalUI className={`modal__ui modal--close`} {...swipeHandlers}>\n              <ModalContent\n                className={`modal__content`}\n                tabIndex={0}\n                contentHeight={contentHeight}\n                modalWidth={modalWidth}\n                contentMaxHeightMobile={contentMaxHeightMobile}\n                contentMaxHeight={contentMaxHeight}\n                ref={contentRef}\n                closable={isClosable}\n              >\n                <ModalBox>{children}</ModalBox>\n              </ModalContent>\n              {isClosable && (\n                <ModalClose className={`modal__close qa--modal-close modal--close`}>\n                  <span className=\"modal--close\">&times;</span>\n                </ModalClose>\n              )}\n            </ModalUI>\n          </ModalWrapper>\n        </ModalOverlay>,\n        document.body\n      )\n    : null;\n}\nModal.propTypes = {\n  modalIsShown: PropTypes.bool.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  video: PropTypes.bool,\n  iframe: PropTypes.bool,\n  contentHeight: PropTypes.number,\n  contentMaxHeightMobile: PropTypes.number,\n  contentMaxHeight: PropTypes.number,\n  modalWidth: PropTypes.number,\n  isClosable: PropTypes.bool,\n  onVideoPlaybackEnded: PropTypes.func,\n  preventMobileOverflow: PropTypes.bool,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useState } from \"react\";\nimport Modal from \"./Modal\";\nimport styled from \"styled-components\";\nimport { P } from \"@arcteryx/components-typography\";\n\nconst InfoIconWrapper = styled.div`\n  display: flex;\n  flex-flow: column no-wrap;\n  justify-content: ${props => props.justify || \"flex-start\"};\n\n  p {\n    display: inline-block;\n    margin: 0 5px 0 0;\n  }\n`;\n\nconst InfoIcon = styled.span`\n  content: url(\"https://images-dynamic-arcteryx.imgix.net/foundation-ui/svgs/Information_Icon.svg\");\n  height: 15px;\n  width: 15px;\n  display: inline-block;\n  cursor: pointer;\n  margin-top: 4px;\n`;\n\n/*\n  * This component will display an icon and when clicked will open a modal with the contents from the provided url\n  *\n  * @param {string} labelText - The text displayed on the left side of the icon\n  * @param {string} modalUrl - The url of the content to be displayed in the modal\n  * @param {string} justify - Set the value for 'flex-justify. Default: \"flex-start\"\n**/\nconst InfoIconModal = ({ labelText, modalUrl, justify }) => {\n  const [modalIsShown, toggleModal] = useState(false);\n  const [modalCaller, setModalCaller] = useState();\n\n  const callModal = e => {\n    e.preventDefault();\n    setModalCaller(e.currentTarget);\n    toggleModal(!modalIsShown);\n  };\n\n  if (modalUrl) {\n    return (\n      <InfoIconWrapper justify={justify}>\n        { labelText ? <P>{labelText}</P> : null }\n        <InfoIcon onClick={callModal} className=\"qa-info-icon-modal\" />\n        <Modal modalIsShown={modalIsShown} toggleModal={toggleModal} modalCaller={modalCaller} iframe>\n          <iframe src={modalUrl}></iframe>\n        </Modal>\n      </InfoIconWrapper>\n    );\n  }\n  return null;\n}\n\nexport default InfoIconModal;\n\n\nInfoIconModal.prototype = {\n  modalUrl: PropTypes.string.isRequired,\n};\n"],"names":["fadeIn","keyframes","fadeAnimation","css","scaleIn","scaleAnimation","slideUp","slideUpAnimation","ModalOverlay","styled","div","breakpoint","ModalWrapper","props","modalWidth","ModalUI","ModalContent","contentMaxHeightMobile","preventMobileOverflow","closable","contentHeight","contentMaxHeight","ModalClose","button","ModalBox","Modal","children","toggleModal","modalCaller","modalIsShown","className","video","iframe","isClosable","onVideoPlaybackEnded","videoPlayer","contentRef","useRef","handleClickOutside","e","target","classList","length","contains","detectEscapeKeyPress","keyCode","handleFocus","elementToFocus","document","querySelector","focus","onYTPlayerStateChange","event","data","title","videoTitle","getVideoData","extractYoutubeId","videoUrl","parts","split","videoSlug","loadYTVideo","playerWrapper","getElementById","getAttribute","window","YT","Player","videoId","playerVars","autoplay","controls","mute","events","onStateChange","handleVideoEmbed","tag","createElement","src","onYouTubeIframeAPIReady","firstScriptTag","getElementsByTagName","parentNode","insertBefore","useEffect","containerOverflow","style","overflow","addEventListener","removeEventListener","finishSwipingUp","current","transform","finishSwipingDown","swipeIsScroll","scrollTop","setTimeout","startSwipingUp","deltaY","startSwipingDown","swipeHandlers","useSwipeable","onSwiping","dir","onSwiped","preventDefaultTouchmoveEvent","delta","ReactDOM","createPortal","React","body","propTypes","PropTypes","bool","isRequired","func","number","InfoIconWrapper","justify","InfoIcon","span","InfoIconModal","labelText","modalUrl","useState","setModalCaller","callModal","preventDefault","currentTarget","P","prototype","string"],"mappings":"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"}