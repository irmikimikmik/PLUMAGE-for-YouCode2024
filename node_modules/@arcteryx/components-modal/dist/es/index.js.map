{"version":3,"file":"index.js","sources":["../../src/components/Modal.js","../../src/components/InfoIconModal.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport styled, { keyframes, css } from \"styled-components\";\nimport { Breakpoint as breakpoint } from \"@arcteryx/components-typography\";\n\nimport { useSwipeable } from \"react-swipeable\";\n\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n    z-index: -1;\n  }\n  100% {\n    opacity: 1;\n    z-index: 9999;\n  }\n`;\n\nconst fadeAnimation = css`\n  0.3s ${fadeIn} ease-out;\n`;\n\nconst scaleIn = keyframes`\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n`;\n\nconst scaleAnimation = css`\n  0.3s 0.2s ${scaleIn} forwards\n`;\n\nconst slideUp = keyframes`\n  0% {\n    opacity: 1;\n    z-index: -1;\n    transform: scale(1) translateY(100%);\n  }\n\n  100% {\n    opacity: 1;\n    z-index: 9999;\n    transform: scale(1) translateY(0);\n  }\n`;\n\nconst slideUpAnimation = css`\n  0.3s 0.2s ${slideUp} forwards\n`;\n\nconst ModalOverlay = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  cursor: pointer;\n  background-color: rgba(43, 43, 43, 0.8);\n  z-index: 9999;\n  opacity: 1;\n  animation: ${fadeAnimation};\n\n  ${breakpoint(\"lg\")`\n    padding: 2rem;\n  `}\n`;\n\nconst ModalWrapper = styled.div`\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n  height: 100%;\n  transform: scale(1) translateY(100%);\n  animation: ${slideUpAnimation};\n\n  ${breakpoint(\"lg\")`\n    width: ${props => (props.modalWidth ? `${props.modalWidth}px` : \"90vw\")};\n    align-items: center;\n    transform: scale(0);\n    animation: ${scaleAnimation};\n  `}\n`;\n\nconst ModalUI = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  align-items: flex-end;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n\n  ${breakpoint(\"lg\")`\n    height: auto;\n    flex-flow: row nowrap;\n    align-items: flex-start;\n  `}\n\n  .modal--video & {\n    flex-flow: column nowrap;\n    justify-content: center;\n\n    ${breakpoint(\"lg\")`\n      align-items: flex-start;\n      flex-flow: row wrap;\n    `}\n  }\n`;\n\nconst ModalContent = styled.div`\n  position: relative;\n  width: 100%;\n  max-width: 75rem;\n  height: 100%;\n  max-height: ${props => (props.contentMaxHeightMobile ? `${props.contentMaxHeightMobile}vh` : \"80vh\")};\n  padding: 1.25rem;\n  overflow: auto;\n  cursor: default;\n  display: flex;\n  flex-flow: column wrap;\n  order: 2;\n  align-items: flex-start;\n  background-color: white;\n  transition: all 0.3s;\n\n  ${breakpoint(\"xs\")`\n      overflow: ${props => (props.preventMobileOverflow ? \"hidden\" : \"auto\")};\n  `}\n\n  &:before {\n    content: \"\";\n    display: ${props => (props.closable === true ? \"block\" : \"none\")};\n    width: 4.5rem;\n    height: 0.3rem;\n    position: absolute;\n    top: 1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    background-color: black;\n\n    ${breakpoint(\"lg\")`\n      display: none;\n    `}\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:focus-visible {\n    outline: none !important;\n  }\n\n  .modal--video & {\n    height: auto;\n    padding: 0 1rem;\n    align-items: center;\n    background-color: transparent;\n    &:before {\n      display: none;\n    }\n\n    iframe {\n      background-color: black;\n    }\n  }\n\n  .modal--iframe & {\n    padding: ${props => (props.closable === true ? \"2rem 0\" : \"0\")};\n    height: 80vh;\n  }\n\n  iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: ${props => (props.contentHeight ? `${props.contentHeight}px` : \"100%\")};\n    margin: auto;\n    border: 0;\n    overflow: auto;\n  }\n\n  ${breakpoint(\"lg\")`\n    order: 1;\n    width: ${props => (props.modalWidth ? `${props.modalWidth}px;` : \"80vw\")};\n    max-width: ${props => (props.modalWidth ? `${props.modalWidth}px;` : \"75rem\")};\n    max-height: ${props => (props.contentMaxHeight ? `${props.contentMaxHeight}vh` : \"80vh\")};\n    background-color: white;\n\n    .modal--video & {\n      padding: 0;\n      max-width: calc(100% - 7rem);\n      max-height: 72rem;\n      background-color: black;\n    }\n\n    .modal--iframe & {\n      padding: 0;\n    }\n  `}\n`;\n\nconst ModalClose = styled.button`\n  position: relative;\n  display: none;\n  width: 3rem;\n  min-width: 3rem;\n  height: 3rem;\n  min-height: 3rem;\n  color: white;\n  border: 0;\n  padding: 0;\n  order: 1;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 3rem;\n  font-weight: 400;\n  font-style: normal;\n  font-family: var(--font-urw-din);\n  margin: 0 0 1rem auto;\n  background-color: black;\n  overflow: hidden;\n\n  ${breakpoint(\"lg\")`\n    display: flex;\n    order: 2;\n    margin: 0 0 0 2rem;\n  `}\n\n  span {\n    margin-top: -0.1rem;\n    line-height: 3rem;\n  }\n\n  .modal--video & {\n    display: flex;\n    margin-right: 1rem;\n\n    ${breakpoint(\"lg\")`\n      margin-right: 0;\n    `}\n  }\n`;\n\nconst ModalBox = styled.div`\n  width: 100%;\n  position: relative;\n\n  .modal--video & {\n    height: 0;\n    padding-top: 56.25%;\n  }\n\n  .modal--iframe & {\n    height: 100%;\n  }\n`;\n\nexport default function Modal({\n  children,\n  toggleModal,\n  modalCaller,\n  modalIsShown,\n  className = \"\",\n  video = false,\n  iframe = false,\n  contentHeight,\n  contentMaxHeightMobile,\n  contentMaxHeight,\n  modalWidth,\n  isClosable = true,\n  onVideoPlaybackEnded,\n}) {\n  let videoPlayer;\n  const contentRef = useRef();\n\n  const handleClickOutside = e => {\n    if (\n      isClosable &&\n      modalIsShown === true &&\n      e.target.classList.length > 0 &&\n      e.target.classList.contains(\"modal--close\")\n    ) {\n      toggleModal(false);\n    }\n  };\n\n  const detectEscapeKeyPress = e => {\n    if (isClosable && modalIsShown === true && e.keyCode === 27) {\n      toggleModal(false);\n    }\n  };\n\n  const handleFocus = () => {\n    const elementToFocus = modalIsShown ? document.querySelector(\".modal__content\") : modalCaller;\n\n    if (elementToFocus) {\n      elementToFocus.focus();\n    }\n  };\n\n  const onYTPlayerStateChange = event => {\n    // event 0 is video ended\n    if (event.data === 0) {\n      const { title: videoTitle } = videoPlayer.getVideoData();\n      onVideoPlaybackEnded(videoTitle);\n    }\n  };\n\n  const extractYoutubeId = videoUrl => {\n    const parts = videoUrl?.split(\"/\");\n    if (parts?.length) {\n      const videoSlug = parts[parts.length - 1].split(\"?\");\n      if (videoSlug.length) {\n        return videoSlug[0];\n      }\n    }\n    return false;\n  };\n\n  const loadYTVideo = () => {\n    const playerWrapper = document.getElementById(\"yt-player\");\n    const videoSlug = extractYoutubeId(playerWrapper?.getAttribute(\"data-video-url\"));\n\n    if (videoSlug) {\n      videoPlayer = new window.YT.Player(\"yt-player\", {\n        videoId: videoSlug,\n        playerVars: { autoplay: 1, controls: 0, mute: 1 },\n        events: {\n          onStateChange: onYTPlayerStateChange,\n        },\n      });\n    }\n  };\n\n  // Modals that pass the 'video' prop and content like this...\n  // <div id=\"yt-player\" data-video-url=\"//youtube.com/embed/XXXX\"></div>\n  // will use the YouTube Embed API so we can track video completions\n  const handleVideoEmbed = () => {\n    if (video && modalIsShown) {\n      if (!window.YT) {\n        const tag = document.createElement(\"script\");\n        tag.src = \"https://www.youtube.com/iframe_api\";\n\n        window.onYouTubeIframeAPIReady = loadYTVideo;\n\n        const firstScriptTag = document.getElementsByTagName(\"script\")[0];\n        if (firstScriptTag) {\n          firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        }\n      } else {\n        loadYTVideo();\n      }\n    }\n  };\n\n  useEffect(() => {\n    const containerOverflow = modalIsShown ? \"hidden\" : \"visible\";\n    document.querySelector(\"body\").style.overflow = containerOverflow;\n\n    handleFocus();\n    handleVideoEmbed();\n\n    document.addEventListener(\"click\", handleClickOutside, false);\n    document.addEventListener(\"keydown\", detectEscapeKeyPress, false);\n    return () => {\n      document.querySelector(\"body\").style.overflow = \"visible\";\n      document.removeEventListener(\"click\", handleClickOutside, false);\n      document.removeEventListener(\"keydown\", detectEscapeKeyPress, false);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [modalIsShown]);\n\n  const finishSwipingUp = () => {\n    contentRef.current.style.transform = `translateY(0)`;\n  };\n\n  const finishSwipingDown = () => {\n    const swipeIsScroll = contentRef.current.scrollTop > 0;\n\n    if (isClosable && !swipeIsScroll) {\n      contentRef.current.style.transform = `translateY(100%)`;\n      setTimeout(() => {\n        toggleModal(false);\n      }, 300);\n    }\n  };\n\n  const startSwipingUp = deltaY => {\n    contentRef.current.style.transform = `translateY(-${deltaY}px)`;\n  };\n\n  const startSwipingDown = deltaY => {\n    const swipeIsScroll = contentRef.current.scrollTop > 0;\n    if (!swipeIsScroll) {\n      contentRef.current.style.transform = `translateY(${deltaY}px)`;\n    }\n  };\n\n  const swipeHandlers = useSwipeable({\n    onSwiping: ({ deltaY, dir }) => {\n      if (dir === \"Down\") {\n        startSwipingDown(deltaY);\n      }\n\n      if (dir === \"Up\") {\n        startSwipingUp(deltaY);\n      }\n    },\n    onSwiped: ({ dir }) => {\n      if (dir === \"Down\") {\n        finishSwipingDown();\n      }\n\n      if (dir === \"Up\") {\n        finishSwipingUp();\n      }\n    },\n    preventDefaultTouchmoveEvent: false,\n    delta: 10,\n  });\n\n  return modalIsShown\n    ? ReactDOM.createPortal(\n        <ModalOverlay\n          className={`modal__overlay modal--close ${video ? \"modal--video\" : \"\"} ${\n            iframe ? \"modal--iframe\" : \"\"\n          } ${className}`}\n        >\n          <ModalWrapper role=\"dialog\" className=\"modal__wrapper modal--close\">\n            <ModalUI className={`modal__ui modal--close`} {...swipeHandlers}>\n              <ModalContent\n                className={`modal__content`}\n                tabIndex={0}\n                contentHeight={contentHeight}\n                modalWidth={modalWidth}\n                contentMaxHeightMobile={contentMaxHeightMobile}\n                contentMaxHeight={contentMaxHeight}\n                ref={contentRef}\n                closable={isClosable}\n              >\n                <ModalBox>{children}</ModalBox>\n              </ModalContent>\n              {isClosable && (\n                <ModalClose className={`modal__close qa--modal-close modal--close`}>\n                  <span className=\"modal--close\">&times;</span>\n                </ModalClose>\n              )}\n            </ModalUI>\n          </ModalWrapper>\n        </ModalOverlay>,\n        document.body\n      )\n    : null;\n}\nModal.propTypes = {\n  modalIsShown: PropTypes.bool.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  video: PropTypes.bool,\n  iframe: PropTypes.bool,\n  contentHeight: PropTypes.number,\n  contentMaxHeightMobile: PropTypes.number,\n  contentMaxHeight: PropTypes.number,\n  modalWidth: PropTypes.number,\n  isClosable: PropTypes.bool,\n  onVideoPlaybackEnded: PropTypes.func,\n  preventMobileOverflow: PropTypes.bool,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useState } from \"react\";\nimport Modal from \"./Modal\";\nimport styled from \"styled-components\";\nimport { P } from \"@arcteryx/components-typography\";\n\nconst InfoIconWrapper = styled.div`\n  display: flex;\n  flex-flow: column no-wrap;\n  justify-content: ${props => props.justify || \"flex-start\"};\n\n  p {\n    display: inline-block;\n    margin: 0 5px 0 0;\n  }\n`;\n\nconst InfoIcon = styled.span`\n  content: url(\"https://images-dynamic-arcteryx.imgix.net/foundation-ui/svgs/Information_Icon.svg\");\n  height: 15px;\n  width: 15px;\n  display: inline-block;\n  cursor: pointer;\n  margin-top: 4px;\n`;\n\n/*\n  * This component will display an icon and when clicked will open a modal with the contents from the provided url\n  *\n  * @param {string} labelText - The text displayed on the left side of the icon\n  * @param {string} modalUrl - The url of the content to be displayed in the modal\n  * @param {string} justify - Set the value for 'flex-justify. Default: \"flex-start\"\n**/\nconst InfoIconModal = ({ labelText, modalUrl, justify }) => {\n  const [modalIsShown, toggleModal] = useState(false);\n  const [modalCaller, setModalCaller] = useState();\n\n  const callModal = e => {\n    e.preventDefault();\n    setModalCaller(e.currentTarget);\n    toggleModal(!modalIsShown);\n  };\n\n  if (modalUrl) {\n    return (\n      <InfoIconWrapper justify={justify}>\n        { labelText ? <P>{labelText}</P> : null }\n        <InfoIcon onClick={callModal} className=\"qa-info-icon-modal\" />\n        <Modal modalIsShown={modalIsShown} toggleModal={toggleModal} modalCaller={modalCaller} iframe>\n          <iframe src={modalUrl}></iframe>\n        </Modal>\n      </InfoIconWrapper>\n    );\n  }\n  return null;\n}\n\nexport default InfoIconModal;\n\n\nInfoIconModal.prototype = {\n  modalUrl: PropTypes.string.isRequired,\n};\n"],"names":["fadeIn","keyframes","fadeAnimation","css","scaleIn","scaleAnimation","slideUp","slideUpAnimation","ModalOverlay","styled","div","breakpoint","ModalWrapper","props","modalWidth","ModalUI","ModalContent","contentMaxHeightMobile","preventMobileOverflow","closable","contentHeight","contentMaxHeight","ModalClose","button","ModalBox","Modal","children","toggleModal","modalCaller","modalIsShown","className","video","iframe","isClosable","onVideoPlaybackEnded","videoPlayer","contentRef","useRef","handleClickOutside","e","target","classList","length","contains","detectEscapeKeyPress","keyCode","handleFocus","elementToFocus","document","querySelector","focus","onYTPlayerStateChange","event","data","title","videoTitle","getVideoData","extractYoutubeId","videoUrl","parts","split","videoSlug","loadYTVideo","playerWrapper","getElementById","getAttribute","window","YT","Player","videoId","playerVars","autoplay","controls","mute","events","onStateChange","handleVideoEmbed","tag","createElement","src","onYouTubeIframeAPIReady","firstScriptTag","getElementsByTagName","parentNode","insertBefore","useEffect","containerOverflow","style","overflow","addEventListener","removeEventListener","finishSwipingUp","current","transform","finishSwipingDown","swipeIsScroll","scrollTop","setTimeout","startSwipingUp","deltaY","startSwipingDown","swipeHandlers","useSwipeable","onSwiping","dir","onSwiped","preventDefaultTouchmoveEvent","delta","ReactDOM","createPortal","body","propTypes","PropTypes","bool","isRequired","func","number","InfoIconWrapper","justify","InfoIcon","span","InfoIconModal","labelText","modalUrl","useState","setModalCaller","callModal","preventDefault","currentTarget","prototype","string"],"mappings":"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"}