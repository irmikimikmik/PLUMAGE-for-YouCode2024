import React, { useState } from 'react';
import {
  AccordionContainer,
  AccordionContent,
  AccordionItemStyled,
  CustomRadioButton,
  InputLabelContainer,
  RadioInput
} from './RadioAccordion.styles';

export interface AccordionItem {
  title: JSX.Element;
  content: JSX.Element;
  id: string;
}

const RadioAccordion: React.FC<{ items: AccordionItem[] }> = ({ items }) => {
  const [activeId, setActiveId] = useState<string | null>(null);

  const handleChange = (id: string) => {
    setActiveId((prevId) => (prevId === id ? null : id));
  };

  return (
    <AccordionContainer>
      {items.map((item) => (
        <AccordionItemStyled key={item.id}>
            <InputLabelContainer>
                <CustomRadioButton isSelected={activeId === item.id}>
                    <RadioInput
                        type="radio"
                        id={item.id}
                        name="accordion"
                        checked={activeId === item.id}
                        onChange={() => handleChange(item.id)}
                    />
                </CustomRadioButton>
                {item.title}
            </InputLabelContainer>
            <AccordionContent isVisible={activeId === item.id}>
                {item.content}
            </AccordionContent>
        </AccordionItemStyled>
      ))}
    </AccordionContainer>
  );
};

export default RadioAccordion;